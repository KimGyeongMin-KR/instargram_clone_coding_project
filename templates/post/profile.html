{% extends 'base.html' %}

{% block content %}
  {% comment %} <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <!-- Google Icon -->
  <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet">

  <!-- Jquery -->
  <!-- <script src="http://code.jquery.com/jquery-latest.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

  <script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
   {% endcomment %}
   <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <style>
    .box {
      width: 150px;
      height: 150px;
      border-radius: 70%;
      overflow: hidden;
    }

    .profile {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .feed_box {
      margin: 20px 0;
      border: solid 1px gray;
      background-color: white;
    }

    .box_wrap {
      /* border: solid 1px #000; */
      padding-top: 100%;
      position: relative;
      overflow: hidden;
    }

    .box_inner {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .box_inner > img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .box_inner > div {
      width: 100%;
      height: 100%;
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      object-fit: cover;
    }

    .box_inner:hover > div {
      display: flex;
      cursor: pointer;
      color: white;
      /* background-color: rgba(0, 0, 0, 0.5); */
      background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));
    }
  </style>

  <div style="display: flex; flex-direction: row;text-align: center; justify-content: center;margin-top: 60px; background-color:#FAFAFA">
    <div style="padding: 20px 60px">
      <div class="box" style="width: 175px; height: 175px;">

        <img class="profile" src="{{user.profile_image.url}}">

      </div>
    </div>
    <div style="text-align: left">
<<<<<<< HEAD
        <div style="display: flex; flex-direction: row; margin: 20px 0">
            <div style="font-size: 26px; margin-right: 40px">
                {{ author.nickname }}
            </div>
                {% if is_author%}
                    <button type="button" onclick = "location.href = '/user/update/'" id="button_profile_upload" style="margin-right: 40px"> 프로필 편집 </button>
                {% endif %}
            <div>
            </div>
=======
      <div style="display: flex; flex-direction: row; margin: 20px 0">
        <div style="font-size: 26px; margin-right: 40px">
          {{ author.nickname }}
>>>>>>> 3df0554a01583457a8ecc5a70bc16e011f6d0a54
        </div>
        {% if is_author%}
          <button id="button_profile_upload" style="margin-right: 40px">
            프로필 편집</button>
        {% endif %}
      </div>

      <div style="margin-bottom: 20px">
        게시물
        {{author_post|length}}
        팔로워
        {{author_follower|length}}
        팔로잉
        {{ author_following|length }}
      </div>
      <div>
        <b>{{ author.username }}</b>
        <br>
        <b>{{ user.bio }}</b>
      </div>
    </div>
  </div>

  <div style="border-top: solid 2px rgba(50,50,50,0.1); width: 100%">

    <div style="display: flex; flex-direction: row; justify-content: center; align-items: center; margin: 20px">
      <div id="button_feed_list" style="cursor: pointer;margin: 0 30px;display: flex; flex-direction: row;align-items: center">
        <span class="material-icons-outlined">grid_on</span>내 게시물</div>
      <div id="button_feed_like_list" style="cursor: pointer;margin: 0 30px;display: flex; flex-direction: row;align-items: center">
        <span class="material-icons-outlined">favorite_border</span>좋아요</div>
      <div id="button_feed_bookmark_list" style="cursor: pointer;margin: 0 30px;display: flex; flex-direction: row;align-items: center">
        <span class="material-icons-outlined">bookmark_border</span>북마크</div>
    </div>
  </div>

  <div class="container">
    <div class="row" id="feed_list">
      {% for post in author_post %}
        <div class="col-4 mb-4">
          <div class="box_wrap">
            <div class="box_inner">
              <img src="{{post.imagemodel_set.all.0.image.url}}">
            </div>
            <div class="box_inner">
              <div onclick="location.href=`{% url 'post_detail' post.id %}`">
                &#9829;
                {{post.post_like.all | length}}개
                &#128172;
                {{post.commentmodel_set.all.count}}개
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>

    <div class="row" id="bookmark_feed_list" style="display:none;">
      {% for post in author_bookmark_post %}
        <div class="col-4 mb-4">
          <div class="box_wrap">
            <div class="box_inner">
              <img src="{{post.imagemodel_set.all.0.image.url}}">
            </div>
            <div class="box_inner">
              <div onclick="location.href=`{% url 'post_detail' post.id %}`">
                {{post.commentmodel_set.all.count}}개
                {{post.post_like.all | length}}개
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  <!-- Optional JavaScript; choose one of the two! -->
  <script>
    $("#button_feed_list").click(function () {
      $('#feed_list').css({display: 'flex'});
      // $('#like_feed_list').css({display: 'none'});
      $('#bookmark_feed_list').css({display: 'none'});
    });
    // $("#button_feed_like_list").click(function () {
    //   $('#feed_list').css({display: 'none'});
    //   $('#like_feed_list').css({display: 'flex'});
    //   $('#bookmark_feed_list').css({display: 'none'});
    // });
    $("#button_feed_bookmark_list").click(function () {
      $('#feed_list').css({display: 'none'});
      $('#like_feed_list').css({display: 'none'});
      $('#bookmark_feed_list').css({display: 'flex'});
    });
  </script>

  <!-- Option 1: Bootstrap Bundle with Popper -->

  <!-- Option 2: Separate Popper and Bootstrap JS -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script> -->
{% endblock %}
